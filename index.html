<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Poppy by tenmax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Poppy</h1>
      <h2 class="project-tagline">A dataframe library for java</h2>
      <a href="https://github.com/tenmax/poppy" class="btn">View on GitHub</a>
      <a href="https://github.com/tenmax/poppy/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/tenmax/poppy/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="poppy" class="anchor" href="#poppy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Poppy</h1>

<p><em>poppy</em> is dataframe library for java, which provides common SQL operations (e.g. select, from, where, group by, order by, distinct) to process data in java.</p>

<p>Unlike other dataframe libraries, which keep all the data in memory, <em>poppy</em> process data in streaming manager. That is, it is more similar as <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html">Java8 Stream library</a>, but relational version.</p>

<p>Here is a simple example. We have a <code>Student</code> class</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Student</span> {
    <span class="pl-k">private</span> <span class="pl-k">int</span> studentId;
    <span class="pl-k">private</span> <span class="pl-smi">String</span> name;
    <span class="pl-k">private</span> <span class="pl-k">int</span> grade;
    <span class="pl-k">private</span> <span class="pl-k">int</span> room;
    <span class="pl-k">private</span> <span class="pl-k">int</span> height;
    <span class="pl-k">private</span> <span class="pl-k">int</span> weight;
    <span class="pl-c1">...</span>
}</pre></div>

<p>In SQL, we have a query like this</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-k">select</span> 
    grade, 
    room, 
    <span class="pl-c1">avg</span>(weight) <span class="pl-k">as</span> weight, 
    <span class="pl-c1">avg</span>(height) <span class="pl-k">as</span> height
<span class="pl-k">from</span> Student
<span class="pl-k">group by</span> grade, room
<span class="pl-k">order by</span> grade, room</pre></div>

<p>Here is the <em>Poppy</em>'s version </p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">List&lt;<span class="pl-smi">Student</span>&gt;</span> students <span class="pl-k">=</span> <span class="pl-c1">...</span>;

<span class="pl-smi">DataFrame</span>
.from(students, <span class="pl-smi">Student</span><span class="pl-k">.</span>class)
.groupby(<span class="pl-s"><span class="pl-pds">"</span>grade<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>room<span class="pl-pds">"</span></span>)
.aggregate(
    avgLong(<span class="pl-s"><span class="pl-pds">"</span>weight<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>as(<span class="pl-s"><span class="pl-pds">"</span>weight<span class="pl-pds">"</span></span>),
    avgLong(<span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>as(<span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span>))
.sort(<span class="pl-s"><span class="pl-pds">"</span>grade<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>room<span class="pl-pds">"</span></span>)
.print();</pre></div>

<h1>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h1>

<h2>
<a id="requirement" class="anchor" href="#requirement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirement</h2>

<p>Java 8 or higher</p>

<h2>
<a id="dependency" class="anchor" href="#dependency" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependency</h2>

<p>Maven</p>

<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.tenmax&lt;/groupId&gt;
  &lt;artifactId&gt;poppy&lt;/artifactId&gt;
  &lt;version&gt;0.1.0&lt;/version&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;
</code></pre>

<p>Gradle</p>

<pre><code>compile 'io.tenmax:poppy:0.1.0'
</code></pre>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ol>
<li>Support the most common operations in SQL. e.g. select, from, where, group by, order by, distinct</li>
<li>Support the most common aggregation functions in SQL. e.g. <em>avg()</em>, <em>sum()</em>, <em>count()</em>, <em>min()</em>, <em>max()</em>
</li>
<li>
<strong>Custom aggregation functions.</strong> by  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html">java.util.stream.Collector</a>
</li>
<li>
<strong>Partition support.</strong> Partition is the unit of parallelism. Multiple partitions allow you processing data concurrently.</li>
<li>
<strong>Multi-threaded support</strong>. For CPU-bound jobs, it leverages all your CPU resources for better performance; for IO-bound jobs, it reduces the waiting time, and take adventages of better concurrency.</li>
<li>Suitable for both <strong>batch</strong> and <strong>streaming</strong> scenario.</li>
<li>
<strong>Lightweight</strong>. Comparing to <a href="https://spark.apache.org/docs/latest/sql-programming-guide.html">Spark DataFrame API</a>, it is much more lightweight to embed in your application.</li>
<li>
<strong>Stream-based design</strong>. Comparing to <a href="https://github.com/cardillo/joinery">joinery</a>, which keeps the whole data in memory. <em>Poppy</em>'s streaming behaviour allows limited memory to process huge volume of data.</li>
</ol>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<ul>
<li><a href="http://tenmax.github.io/poppy/docs/javadoc/index.html">JavaDoc</a></li>
<li><a href="http://tenmax.github.io/poppy/">User Manual</a></li>
</ul>

<h1>
<a id="contribution" class="anchor" href="#contribution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contribution</h1>

<p>Please fork this project and pull request to me and any comment would be appreciated!</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/tenmax/poppy">Poppy</a> is maintained by <a href="https://github.com/tenmax">tenmax</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
